@model IEnumerable<Repository_Logic.Dto.DeleteLog_Dto>

<div class="card shadow mb-4" style="border-radius:15px; box-shadow: 0 5px 10px rgba(0,0,0,0.1);">
    <div class="card-header py-3" style="background-color:#002F6C;border-top-right-radius: 15px;border-top-left-radius: 15px">
        <h1 class="Nameheader"><b>Delete logs</b></h1>
    </div>
 <div class="card-body">
 <div class="table-responsive">
<table id="ViewDeleteLogs" class="table table-bordered" width="100%" cellspacing="0">
    <thead>
        <tr>
            <th>
                UserName
            </th>
            <th>
               Deleted By
            </th>
            <th>
               Date
            </th>
            <th>
                Actions
            </th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.UserName)

                </td>
                <td>
                    @Html.DisplayFor(modelItem=>item.DeletedByName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem=>item.Date)
                </td>
                <td>

                </td>
            </tr>
        }

    </tbody>
</table>
 </div>
 </div>
</div>
@if (TempData["User Recovered"] != null)
{
    <script>
        Swal.fire({
            title: 'User Recovered!',
            text: '@TempData["User Recovered"]',
            icon: 'success'
        });
    </script>
}
@section Scripts
    {
    <script>
        $(document).ready(function () {

            if ($.fn.DataTable.isDataTable('#ViewDeleteLogs')) {
                $('#ViewDeleteLogs').DataTable().destroy();
            }

            $('#ViewDeleteLogs').DataTable(
                {
                    "processing": true,
                    "serverSide": true,
                    "filter": true,
                    "order": [2, 'desc'],
                    "ajax": {
                        "url": "/Log_Information/DeletelogListDataTable",
                        "type": "POST",
                        "datatype": "json"
                    },
                    "columns": [
                        { "data": "userName", "name": "UserName" },
                        { "data": "deletedByName", "name": "DeletedByName" },
                        { "data": "date", "name": "Date" },
                        {
                            "data": "Actions", "name": "Actions",

                            "render": function (data, type, row) {

                              
                                return '<a href="/RecoverUser/RecoverTheUser/' + row.id + '" class="btn btn-info">Recover User</a>';

                            }
                        }
                        ]
                    
                }
            );

        });

    </script>

}